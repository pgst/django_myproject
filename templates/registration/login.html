{% extends "base.html" %}
{% load django_bootstrap5 %}

{% block content %}
<h1 class="mt-5">Djangoで作るログイン機能</h1>

{% if user.is_authenticated %}
<p>{{ user }} でログインしています</p>

<a href="{% url 'logout' %}">
    {% bootstrap_button
        button_type='submit'
        button_class='btn_danger'
        content='ログアウト'
        size='md'
    %}
</a>
{% else %}
<section>
    <!-- ログインフォーム -->
    <form action="{% url 'login' %}" method="POST">
        {% csrf_token %}

        {% bootstrap_form form %}
        {% bootstrap_button button_type='submit' content='ログイン' size='md' %}
    </form>

    <p class="mt-3">
        <a href="{% url 'accounts:signup' %}">
            {% bootstrap_button button_type='submit' content='新規登録' size='md' %}
        </a>
    </p>
</section>
{% endif %}
{% endblock %}